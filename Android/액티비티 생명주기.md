## 동적상태 VS 영속적 상태

**액티비티 생명주기를 관리하는 목적**은 적시에 액티비티가 현재 보존하고 있는 데이터와 인터페이스 데이터를 저장하거나 복원하기 위함

- 영속적상태
    - 영속적상태는 액티비티가 백그라운드 상태로 있을 떄 런타임시스템이 그 액티비티를 종료시키므로 데이터 유실을 막기
    위함이다.

- 동적상태 
    - 동적상태는 입력된 UI데이터가 저장될 필요가 있는데이터는 아니지만 백그라운드와 포그라운드 전환시 UI복원을 위해 (매끄러운 전환을 위해) 저장한다.
    - 화면에 보이는 사용자 인터페이스는 동적상태라고 한다. 
    - 애플리케이션이 실행되는 동안만 보존된다.
    - 동적상태를 저장, 복원하기 위한 메소드로 `onRestoreInstanceState(Bundle savedInstanceState)`, `onSaveInstanceState(Bundle outState)`가 있다.

* * *

## 액티비티 생명주기 메서드

- `onCreate(Bundle savedInstanceState)`
    - 액티비티 인스턴스가 최초로 생성될 때 호출
    - 초기화 작업을 하는데 이상적이다.
    - 메서드 인자로 동적 상태 정보를 포함할 수 있는 Bundle 객체가 전달된다.
<br>

- `onRestart()`
    - 액티비티가 런타임 시스템에 의해 이전에 중단되었다가 막 다시 시작될 때 호출
<br>

- `onStart()`
    - `onCreate()`나 `onRestart()`메서드가 호출된 후 항상 바로 호출
<br>

- `onResume()`
    - 액티비티가 액티비티 스택의 맨 위에 있으며, 사용자와 현재 상호 동작하는(실행중인) 액티비티 임을 알려준다.
<br>

- `onPause()`
    - 이 메서드 내부에서는 액티비티에서 필요한 **영속적 데이터**를 저장하는 일을 해야한다.
    - 이 메서드 호출 다음 액티비티가 포그라운드로 돌아가는 경우(계속 실행하기 위해) `onResume()`이 호출
    - 이 메서드 호출 다음 액티비티가 사용자가 볼 수 없게 되면 중단되면서 `onStop()`이 호출
    - 이 메서드에서는 CPU를 지나치게 사용하는 작업들을 중단해야된다.(ex 애니메이션)
<br>

- `onStop()`
    - 이 메서드가 호출될 때는 액티비티가 더 이상 사용자에게 보이지 않는다.
    - 이 메서드 호출 다음 액티비티가 포그라운드로 돌아가면 `onRestart()`가 호출
    - 이 메서드 호출 다음 액티비티가 종료되면 `onDestroy()`가 호출
<br>

- `onDestroy`
    - 이 메서드는 액티비티가 막 소멸되려고 하거나 자발적으로 소멸될 때 호출
    - 액티비티가 종료될 떄 항상 `onDestroy()`메서드가 호출되는 것은 아니다.
<br>

- `onRestoreInstanceState(Bundle savedInstanceState)`
    - 상태정보가 저장되었던 이전 액티비티 인스턴스로부터 액티비티가 다시 시작하는 경우에 이 메서드는 `onStart()`메서드가 호출된 후 곧바로 호출된다. 
    - `onCreate()`와 `onStart()`에서 액티비티의 초기화가 수행된 후에 이전 상태 데이터를 복원하는 것이 더 좋을 때 이 메서드가 사용된다.


- `onSaveInstanceState(Bundle outState)`
    - 현재 동적상태  데이터가 저장될 수 있게끔 액티비티가 소멸되기 전에 호출된다.
    - 저장되야하는 상태 데이터를 Bundle객체에 넣는다. 그리고 액티비티가 다시시작될때 `onCreate()`와 `onRestoreInstanceState()`메서드에 저장되었던 Bundle객체를 전달한다.
    - 동적상태 데이터가 저장될 필요가 있다는 것을 런타임이 알 경우에만 이 메서드가 호출된다.
    